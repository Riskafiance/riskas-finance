{% extends 'accounting/base.html' %}
{% block content %}
    <h1>A/R Aging Summary (Unpaid Invoices)</h1>
    <div class="card p-3 shadow-sm mt-3">
        <table class="table table-striped">
            <thead class="table-dark"><tr><th>Customer</th><th>Invoice #</th><th>Due Date</th><th>Aging Bucket</th><th>Days Over</th><th class="text-end">Amount</th></tr></thead>
            <tbody>
                {% for item in aging_data %}
                <tr>
                    <td>{{ item.customer }}</td><td>{{ item.invoice }}</td><td>{{ item.due_date }}</td>
                    <td><span class="badge {% if item.bucket == 'Current' %}bg-success{% else %}bg-danger{% endif %}">{{ item.bucket }}</span></td>
                    <td>{{ item.days_overdue }}</td>
                    <td class="text-end fw-bold">${{ item.amount|floatformat:2 }}</td>
                </tr>
                {% endfor %}
                <tr class="table-secondary fw-bold"><td colspan="5" class="text-end">Total Outstanding:</td><td class="text-end">${{ total_ar|floatformat:2 }}</td></tr>
            </tbody>
        </table>
    </div>
{% endblock %}